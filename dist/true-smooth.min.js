var TrueSmoothService=function(t){this.register(t)};TrueSmoothService.prototype.register=function(t){return this.getScrollDistance=(()=>window.pageYOffset||(document.documentElement||document.body.parentNode||document.body).scrollTop),this.onScroll=(t=>{this.registerServiceScroll(this,t)}),this.registerItem=(e=>new TrueSmoothItem(e,t)),this};var TrueSmoothItem=function(t,e){return this.error=[],this.instance=e,this.el=t,this.anchor=null,this.zIndex=t.dataset.zIndex||1,this.scrollRatio=t.dataset.scrollRatio||1,this.setAnchor(),this.error.length&&console.log(this.error),this};TrueSmoothItem.prototype.setAnchor=function(){if(this.anchor={},this.el.dataset.anchor){let r=this.el.dataset.anchor.split(":");var t=r[0],e=r[1]||null,o=(r[2],parseInt(r[3])||null);if(this.anchor.el=this.instance.container,"_parent"!==t&&(this.anchor.el=document.querySelector(t)),!this.anchor.el)return void this.error.push("Item not found")}else{e="bottom",o=null;this.anchor.el=this.instance.container}this.anchor.offsetY=this.anchor.el.offsetTop,"bottom"===e&&(this.anchor.offsetY+=this.anchor.el.offsetHeight),null!==o&&(this.anchor.offsetY-=o),console.log(this.anchor)},TrueSmoothService.prototype.registerServiceScroll=function(t,e){let o=t.getScrollDistance(),r=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||window.oRequestAnimationFrame;!function i(){let n=t.getScrollDistance();if(o===n)return void r(i);o=n;e(o);r(i)}()};var TrueSmooth=function(t){var e=this;this.service=new TrueSmoothService(this),this.container=t,this.items=[],e.container.querySelectorAll("[data-true-smooth-item]").forEach((t,o)=>{e.items.push(e.service.registerItem(t))}),console.log(e.items),this.service.onScroll(t=>{console.log("scroll distance: "+t),this.items.forEach(e=>{e.anchor.offsetY>=t&&(e.el.style.transform="translate3d(0, "+t+"px, 0)")})})},container=document.querySelector(".true-smooth"),test=new TrueSmooth(container);